<?xml version="1.0" encoding="utf-8"?>
<s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" 
	xmlns:s="library://ns.adobe.com/flex/spark" 
	xmlns:mx="library://ns.adobe.com/flex/mx"
	xmlns:selector="com.fTheme.view.selector.*"
	xmlns:components="com.fTheme.components.*"
	preinitialize="preinit();">
	
	<fx:Metadata>
		[SWF(width="1000", height="800")]
	</fx:Metadata>
	
	<fx:Script>
	<![CDATA[
		import com.fTheme.FThemeController;
		import com.fTheme.look.LookManager;
		
		import flash.net.navigateToURL;
		
		[Bindable]
		private var lookManager:LookManager;
		
		private function preinit():void
		{
			lookManager = (new FThemeController()).lookManager;
		}

		private function downloadButton_clickHandler(event:MouseEvent):void
		{
			navigateToURL(new URLRequest("/look/" + encodeURIComponent(
				lookManager.look.name)), "_blank");
		}

	]]>
	</fx:Script>
	
	<s:layout>
		<s:HorizontalLayout paddingBottom="10" paddingLeft="10" paddingRight="10"
			paddingTop="10" gap="10"/>
	</s:layout>
	
	<components:LookSelector direction="vertical" maxHeight="400"
		visible="{lookManager.lookLinks.length > 1}"
		includeInLayout="{lookManager.lookLinks.length > 1}"/>
	
	<s:Scroller width="100%" height="100%">
		
		<!-- add left padding so that panel shadow doesn't crop -->
		<s:VGroup gap="10" paddingLeft="10">
			
			<s:HGroup gap="10" verticalAlign="contentJustify"
				visible="{lookManager.lookLinks.length > 1 &amp;&amp; lookManager.lookLink.name != 'Default'}"
				includeInLayout="{lookManager.lookLinks.length > 1 &amp;&amp; lookManager.lookLink.name != 'Default'}">
				
				<s:Button label="Download" id="downloadButton" fontWeight="bold"
					click="downloadButton_clickHandler(event)"/>
				
				<components:LookInfo/>
					
			</s:HGroup>
			
			<components:Sample/>
			
		</s:VGroup>
		
	</s:Scroller>
	
</s:Application>
